<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'signup.css' %}">
</head>
<body>

    <h1>Sign Up</h1>

    {% for message in messages %}
    <div class="alert alert-error">
        <strong>Message:</strong> {{ message }}
    </div>
    {% endfor %}
    
    <form method="POST" action="/signup/" id="signupForm"> {% csrf_token %}

        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" class="form-control" id="username" name="username" placeholder="Enter Your Username" Required>
        </div>
        <div class="form-group">
            <label for="fname">Name</label>
            <input type="text" class="form-control" id="fname" name="fname" placeholder="Enter Your Name" Required>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" name="email" placeholder="Enter Your Email Address" Required>
        </div>
        <div class="form-group">
            <label for="pass1">Password <span onclick="tooglePW()"> &#9775; </span></label>
            <input type="password" class="form-control" id="pass1" name="pass1" placeholder="Create Your Password" Required>
        </div>
        <div class="form-group">
            <label for="pass2">Confirm Password <span onclick="tooglePW()"> &#9775; </span></label>
            <input type="password" class="form-control" id="pass2" name="pass2" placeholder="Confirm Your Password" Required>
        </div>
        <button type="submit" class="btn btn-primary" id="signupButton">Sign Up</button>

    </form>

    <script>
        function tooglePW() {
          var x = document.getElementById("pass1");
          var y = document.getElementById("pass2");
          if (x.type === "password") {
            x.type = "text";
            y.type = "text";
          } else {
            x.type = "password";
            y.type = "password";
          }
        }
    </script>
    
    <script>
        document.getElementById('signupForm').addEventListener('input', function () {
            var password = document.getElementById('pass1').value;
            var confirmPassword = document.getElementById('pass2').value;
            var signupButton = document.getElementById('signupButton');
    
            if (password === confirmPassword) {
                signupButton.disabled = false;
            } else {
                signupButton.disabled = true;
            }
        });
    </script>

</body>
</html>